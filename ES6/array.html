<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>数组扩展</title>
    <script src="https://code.jquery.com/jquery-latest.js"></script>
</head>
<body>
    <button onclick="func()">数组扩展</button>
    <p>你好</p>
    <p>我好</p>
    <p>大家好</p>
    <script>
        function func(){
            //（1）Array.of():将一组值转换为数组
            let arr = Array.of(1,2,3,4);
            console.log('arr=',arr);       // [1,2,3,4]

            let empArr = Array.of();
            console.log(empArr);             // []

            //与Array方法对比
            Array()          //  []
            Array(3)         //  [, , ,]
            Array(3,11,8)    //  [3,11,8]


            //（2）ArrAy.from()用于将两类对象转为真正的数组：类似数组的对象和可遍历的对象（包括ES6新增的数据结构Set和Map）
            let p = document.querySelectorAll('p');
            let pArr = Array.from(p);
            pArr.forEach(function(item){
                console.log(item.textContent);           // 你好  我好 大家好
            })
            console.log(Array.from[1,3,5],function(item){
                return item * 2
            })                                                //   [2,6,10]


            //（3）Array.fill : fill方法使用给定值，填充一个数组。
            console.log('fill-7',[1,3,'undefined'].fill(7));      //  [7,7,7]      fill后面只有一个参数表示填充所有位置
            console.log('fill,pos',[1,2,3,4,5,7,8].fill(7,1,4));   //  [1,7,7,7,5,7,8]   fill后面有三个参数时，第一个是要填充的数，后两个是索引位置，包含起始位置，不包含结束位置

            // （4）**** ES6提供三个新的方法遍历数组——entries(),keys()和values()
            for(let index of [1,2,3,4].keys()){       //keys()遍历index索引
                console.log('index',index);
                // index 0
                // index 1
                // index 2
                // index 3
            }
            for(let value of [1,2,3,4].values()){      // values()遍历value值
                console.log('value',value);
                // value 1
                // value 2
                // value 3
                // value 4
            }
            for(let [index,value] of [1,2,4,5,6].entries()){     // entries()同时遍历索引和值
                console.log(index,value);
                // 0 1
                // 1 2
                // 2 4
                // 3 5
                // 4 6
            }

            // （5）Array.copyWithin: 截取一定长度的数字并且替换在相对应的索引位置
            console.log([1,4,9,6,7,2,3].copyWithin(1,3,5));      //  [1,6,7,6,7,2,3]   截取3-5的位置的数字，从索引1 的位置开始替换
            console.log([1,4,9,6,7,2,3].copyWithin(1,3,6));      //  [1,6,7,2,7,2,3]

            // （6） find：找出第一个符合条件的数组成员，它的参数是一个回调函数，没有符合条件的成员则返回undefined
            //       findIndex：返回第一个符合条件的数组成员的位置，如果没有找到符合条件的则返回-1
            console.log([1,2,3,4,5,6].find(function(item){ return item > 3 }));   // 4
            console.log([1,2,3,4,5,6].findIndex(function(item){ return item > 3 }));   // 3

            // （7）includes
            // Array.prototype.includes方法返回一个布尔值，表示某个数组是否包含给定的值
            console.log([1,2,NaN].includes(1));     // true
            console.log([1,2,NaN].includes(NaN));   // true

            // （8）扩展运算符(...): 将一个数组转为用逗号分隔的参数序列
            console.log(...[1,2,3]);     //  1,2,3
            console.log(1, ...[2,3,4], 5);     //1,2,3,4,5
            console.log([...document.querySelectorAll('p')])     // [p,p,p]
        }
    </script>
</body>
</html>